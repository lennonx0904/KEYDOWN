{"version":3,"sources":["component/Nav/Logo.js","actions/showingActions.js","actions/firebase.js","actions/authActions.js","component/Nav/NavButtons.js","component/Nav/NavButtonsMobile.js","component/Nav/Nav.js","component/AuthForm/SignUpForm.js","component/AuthForm/LoginForm.js","component/AuthForm/AuthForm.js","component/Home/index.js","actions/selectSongActions.js","component/SelectSong/SelectSong.js","component/Game/PureCanvas.js","actions/gameActions.js","actions/rankingActions.js","component/Game/helpers.js","component/Game/player.js","component/Game/mainGame.js","component/Game/BestRecord.js","component/Game/CurrentSocre.js","component/Game/Game.js","component/Ranking/CurrentRank.js","component/Ranking/Record.js","component/Ranking/Ranking.js","component/App.js","redeucers/songListReducer.js","redeucers/showingReducer.js","redeucers/authReducer.js","redeucers/rankingReducer.js","redeucers/gameReducer.js","redeucers/index.js","index.js","img/menu.png"],"names":["Logo","react_default","a","createElement","className","react_router_dom","to","showLoginForm","boolean","type","payload","showSignUpForm","showMobileButtons","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","db","firestore","logOut","dispatch","auth","signOut","then","NavButtons","renderLogInAndSignUpBtn","_this$props","_this","props","showing","Fragment","onClick","disabled","signUpForm","loginForm","renderLogOutBtn","this","uid","React","Component","connect","state","NavButtonsMobile","Nav","checkAuthState","Nav_Logo","current","mobileButtons","src","menu","alt","Nav_NavButtons","Nav_NavButtonsMobile","onAuthStateChanged","user","collection","doc","get","data","userName","SignUpForm","email","password","comfirmPassword","changeInputState","e","setState","Object","defineProperty","target","name","value","submitHandler","preventDefault","signUp","rendersSignupForm","onSubmit","onChange","authError","createUserWithEmailAndPassword","res","set","catch","error","message","LoginForm","logIn","renderForm","signInWithEmailAndPassword","AuthForm","_this$props$showing","AuthForm_SignUpForm","AuthForm_LoginForm","Home","SelectSong","fetchSongList","songList","map","song","key","id","title","concat","renderSongList","playingSongData","arr","orderBy","querySnapshot","forEach","toConsumableArray","PureCanvas","width","height","fetchRankingRecord","docId","difficutly","limit","q","push","updateLocalStorage","tempObj","JSON","parse","localStorage","rankingData","stringify","drawTrack","x1","x2","x3","x4","unit","color","ctx","document","querySelector","getContext","cw","ch","beginPath","moveTo","lineTo","closePath","fillStyle","fill","clearCanvas","clearRect","drawFinishState","currentScore","score","drawScoreTimer","setInterval","rect","save","translate","textAlign","font","fillText","restore","clearInterval","rankingRule","total","totalNotes","hit","hitNotesA","hitNotesB","hitNotesC","hitNotesD","accurate","Math","round","player","noteA","noteB","noteC","noteD","audio","btnD","btnF","btnK","btnL","currentSocre","judge","noteArray","trackIndex","hitNotes","centerPos","y","shadowColor","x","drawEffect","textContent","scoreCounter","judgeA","judgeB","judgeC","judgeD","play","keyCode","classList","add","keyupUI","remove","window","addEventListener","removeEventListener","mainGame","beatData","difficulty","time","speed","bpm","degA","atan2","degB","tan","overHeight","line","p1","p2","strokeStyle","shadowBlur","lineWidth","stroke","Pos","classCallCheck","Note","args","def","pos1","pos2","assign","createClass","abs","render","drawBackground","i","startGameTimer","updateFPS","index","update","splice","pause","currentTime","BestRecord","record","slice","CurrentSocre","Game","setCanvasSize","innerWidth","countCurrentScore","storeRecord","match","location","storeRecordToDB","search","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","rank","params","_this$props2","fetchPlayingSongData","setInGameState","drawReadyState","canvas","startGame","_this2","_this$props3","game","setGameOverState","drawComingSoon","inGame","gameOver","setItem","stopGame","hash","_this$props4","style","margin","Game_BestRecord","ranking","Game_CurrentSocre","Game_PureCanvas","songId","obj","Audio","url","console","log","CurrentRank","currentRanking","Record","rankingRecord","Ranking","removeItem","Ranking_CurrentRank","Ranking_Record","App","component_Nav_Nav","component_AuthForm_AuthForm","react_router","path","exact","component","songListReducer","arguments","length","undefined","action","initState","showingReducer","objectSpread","authReducer","rankingReducer","gameReducer","combineReducers","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","es","component_App","getElementById","module","exports"],"mappings":"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","file":"static/js/main.f5d4b664.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nconst Logo = () => {\n  return (\n    <div className=\"logo\">\n      <Link to=\"/\"> KEYDOWN</Link>\n    </div>\n  );\n};\n\nexport default Logo;\n","export const showLoginForm = boolean => {\n  return {\n    type: \"SHOW_LOGIN_FORM\",\n    payload: boolean\n  };\n};\n\nexport const showSignUpForm = boolean => {\n  return {\n    type: \"SHOW_SIGNUP_FORM\",\n    payload: boolean\n  };\n};\n\nexport const showMobileButtons = boolean => {\n  return {\n    type: \"SHOW_MOBILE_BUTTONS\",\n    payload: boolean\n  };\n};\n","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/functions\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBpuiUbM6r9pKhzKP6xHSSaANIEe_rwPrc\",\n  authDomain: \"keyboard-game-64e45.firebaseapp.com\",\n  databaseURL: \"https://keyboard-game-64e45.firebaseio.com\",\n  projectId: \"keyboard-game-64e45\",\n  storageBucket: \"keyboard-game-64e45.appspot.com\",\n  messagingSenderId: \"697558300831\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase;\n","import firebase from \"./firebase\";\nimport \"firebase/auth\";\nconst db = firebase.firestore();\n\nexport const logIn = data => dispatch => {\n  firebase\n    .auth()\n    .signInWithEmailAndPassword(data.email, data.password)\n    .then(() => {\n      firebase.auth().onAuthStateChanged(user => {\n        dispatch({ type: \"LOGIN_SUCCESS\" });\n        dispatch({ type: \"STORE_USER_UID\", payload: user.uid });\n      });\n    })\n    .catch(error => {\n      dispatch({ type: \"LOGIN_ERROR\", payload: error });\n    });\n};\n\nexport const logOut = () => dispatch => {\n  firebase\n    .auth()\n    .signOut()\n    .then(() => {\n      dispatch({ type: \"LOGOUT_SUCCESS\" });\n    });\n};\n\nexport const signUp = data => dispatch => {\n  const { userName, email, password, comfirmPassword } = data;\n  if (userName === \"\") {\n    dispatch({ type: \"SIGH_UP_ERROR\", payload: \"Please enter your name\" });\n    return;\n  }\n  if (password !== comfirmPassword) {\n    dispatch({\n      type: \"SIGH_UP_ERROR\",\n      payload: \"Please comfirm your password\"\n    });\n    return;\n  }\n  firebase\n    .auth()\n    .createUserWithEmailAndPassword(email, password)\n    .then(res => {\n      let uid = res.user.uid;\n      dispatch({ type: \"STORE_USER_UID\", payload: uid });\n      db.collection(\"users\")\n        .doc(uid)\n        .set({ userName, email });\n    })\n    .then(() => {\n      dispatch({ type: \"SIGH_UP_SUCCESS\" });\n    })\n    .catch(error => {\n      dispatch({ type: \"SIGH_UP_ERROR\", payload: error.message });\n    });\n};\n\nexport const checkAuthState = () => dispatch => {\n  firebase.auth().onAuthStateChanged(user => {\n    if (user) {\n      dispatch({ type: \"GET_USER_UID\", payload: user.uid });\n      db.collection(\"users\")\n        .doc(user.uid)\n        .get()\n        .then(doc => {\n          if (doc) {\n            dispatch({ type: \"GET_USER_NAME\", payload: doc.data().userName });\n          }\n        });\n    } else {\n      dispatch({ type: \"GET_USER_UID\", payload: null });\n    }\n  });\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { showLoginForm, showSignUpForm } from \"../../actions/showingActions\";\nimport { logOut } from \"../../actions/authActions\";\n\nclass NavButtons extends React.Component {\n  renderLogInAndSignUpBtn = () => {\n    const { showing, showLoginForm, showSignUpForm } = this.props;\n    return (\n      <>\n        <button\n          className=\"log-in nav-button\"\n          onClick={() => {\n            showLoginForm(true);\n          }}\n          disabled={showing.signUpForm}\n        >\n          Log In\n        </button>\n        <button\n          className=\"sigh-in nav-button\"\n          onClick={() => {\n            showSignUpForm(true);\n          }}\n          disabled={showing.loginForm}\n        >\n          Sign Up\n        </button>\n      </>\n    );\n  };\n\n  renderLogOutBtn = () => {\n    return (\n      <>\n        <button className=\"log-out nav-button\" onClick={this.props.logOut}>\n          Log Out\n        </button>\n      </>\n    );\n  };\n\n  render() {\n    return (\n      <div className=\"buttons\">\n        {this.props.auth.uid\n          ? this.renderLogOutBtn()\n          : this.renderLogInAndSignUpBtn()}\n      </div>\n    );\n  }\n}\n\nconst mapStatetoProps = state => {\n  return {\n    auth: state.auth,\n    showing: state.showing\n  };\n};\n\nexport default connect(\n  mapStatetoProps,\n  { showLoginForm, showSignUpForm, logOut }\n)(NavButtons);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  showLoginForm,\n  showSignUpForm,\n  showMobileButtons\n} from \"../../actions/showingActions\";\nimport { logOut } from \"../../actions/authActions\";\n\nclass NavButtonsMobile extends React.Component {\n  renderLogInAndSignUpBtn = () => {\n    const { showLoginForm, showSignUpForm, showMobileButtons } = this.props;\n    return (\n      <>\n        <button\n          className=\"mobile-btn\"\n          onClick={() => {\n            showMobileButtons(false);\n            showLoginForm(true);\n          }}\n        >\n          Log In\n        </button>\n        <button\n          className=\"mobile-btn\"\n          onClick={() => {\n            showMobileButtons(false);\n            showSignUpForm(true);\n          }}\n        >\n          Sign Up\n        </button>\n      </>\n    );\n  };\n\n  renderLogOutBtn = () => {\n    return (\n      <>\n        <button className=\"mobile-btn\" onClick={this.props.logOut}>\n          Log Out\n        </button>\n      </>\n    );\n  };\n\n  render() {\n    const { auth } = this.props;\n    return (\n      <>\n        <div className=\"mobile-buttons\">\n          {auth.uid ? this.renderLogOutBtn() : this.renderLogInAndSignUpBtn()}\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStatetoProps = state => {\n  return {\n    auth: state.auth,\n    showing: state.showing\n  };\n};\n\nexport default connect(\n  mapStatetoProps,\n  { showLoginForm, showSignUpForm, logOut, showMobileButtons }\n)(NavButtonsMobile);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Logo from \"./Logo\";\nimport NavButtons from \"./NavButtons\";\nimport NavButtonsMobile from \"./NavButtonsMobile\";\nimport menu from \"../../img/menu.png\";\nimport \"./nav.css\";\nimport { showMobileButtons } from \"../../actions/showingActions\";\nimport { checkAuthState } from \"../../actions/authActions\";\n\nclass Nav extends React.Component {\n  componentDidMount() {\n    this.props.checkAuthState();\n  }\n\n  render() {\n    const { showing, showMobileButtons } = this.props;\n    return (\n      <>\n        <div className=\"nav-bar\">\n          <Logo />\n          <button\n            className=\"menu-button\"\n            disabled={showing.loginForm || showing.signUpForm}\n            onClick={() => {\n              let current = showing.mobileButtons;\n              showMobileButtons(!current);\n            }}\n          >\n            <img src={menu} alt=\"\" />\n          </button>\n          <NavButtons />\n        </div>\n        {showing.mobileButtons ? <NavButtonsMobile /> : null}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    showing: state.showing\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { checkAuthState, showMobileButtons }\n)(Nav);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { showSignUpForm } from \"../../actions/showingActions\";\nimport { signUp } from \"../../actions/authActions\";\n\nclass SignUpForm extends React.Component {\n  state = {\n    userName: \"\",\n    email: \"\",\n    password: \"\",\n    comfirmPassword: \"\"\n  };\n\n  changeInputState = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  submitHandler = e => {\n    e.preventDefault();\n    this.props.signUp(this.state);\n  };\n\n  rendersSignupForm = () => {\n    return (\n      <div className=\"auth-view\">\n        <div className=\"auth-wrap\">\n          <form className=\"signup-form\" onSubmit={this.submitHandler}>\n            <i\n              className=\"fas fa-times exit-btn\"\n              onClick={() => {\n                this.props.showSignUpForm(false);\n              }}\n            />\n            <div>\n              <label>Name</label>\n              <br />\n              <input\n                type=\"text\"\n                name=\"userName\"\n                value={this.state.userName}\n                onChange={this.changeInputState}\n              />\n            </div>\n            <div>\n              <label>E-mail</label>\n              <br />\n              <input\n                type=\"text\"\n                name=\"email\"\n                value={this.state.email}\n                onChange={this.changeInputState}\n              />\n            </div>\n            <div>\n              <label>Password</label>\n              <br />\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={this.state.password}\n                onChange={this.changeInputState}\n              />\n            </div>\n            <div>\n              <label>Comfirm Your Password</label>\n              <br />\n              <input\n                type=\"password\"\n                name=\"comfirmPassword\"\n                value={this.state.comfirmPassword}\n                onChange={this.changeInputState}\n              />\n            </div>\n            <button className=\"submit-btn\">Sigh Up</button>\n            <div>\n              {this.props.auth.authError ? (\n                <p>{this.props.auth.authError}</p>\n              ) : null}\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    return <>{this.props.auth.uid ? null : this.rendersSignupForm()}</>;\n  }\n}\n\nconst mapStateToProps = state => {\n  return { signUpForm: state.signUpForm, auth: state.auth };\n};\n\nexport default connect(\n  mapStateToProps,\n  { showSignUpForm, signUp }\n)(SignUpForm);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { showLoginForm } from \"../../actions/showingActions\";\nimport { logIn } from \"../../actions/authActions\";\n\nclass LoginForm extends React.Component {\n  state = {\n    email: \"\",\n    password: \"\"\n  };\n\n  changeInputState = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  submitHandler = e => {\n    e.preventDefault();\n    this.props.logIn(this.state);\n  };\n\n  renderForm = () => {\n    return (\n      <div className=\"auth-view\">\n        <div className=\"auth-wrap\">\n          <form className=\"login-form\" onSubmit={this.submitHandler}>\n            <i\n              className=\"fas fa-times exit-btn\"\n              onClick={() => {\n                this.props.showLoginForm(false);\n              }}\n            />\n            <div>\n              <label>E-mail</label>\n              <br />\n              <input\n                type=\"text\"\n                name=\"email\"\n                onChange={this.changeInputState}\n              />\n            </div>\n            <div>\n              <label>Password</label>\n              <br />\n              <input\n                type=\"password\"\n                name=\"password\"\n                onChange={this.changeInputState}\n              />\n            </div>\n            <button className=\"submit-btn\">Login</button>\n            <div>\n              {this.props.auth.authError ? (\n                <p>{this.props.auth.authError}</p>\n              ) : null}\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    return <>{this.props.auth.uid ? null : this.renderForm()}</>;\n  }\n}\nconst mapStateToProps = state => {\n  return { auth: state.auth };\n};\nexport default connect(\n  mapStateToProps,\n  { showLoginForm, logIn }\n)(LoginForm);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport SignUpForm from \"./SignUpForm\";\nimport LoginForm from \"./LoginForm\";\nimport \"./authForm.css\";\n\nclass AuthForm extends React.Component {\n  render() {\n    const { signUpForm, loginForm } = this.props.showing;\n    return (\n      <>\n        {signUpForm && <SignUpForm />}\n        {loginForm && <LoginForm />}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    showing: state.showing\n  };\n};\n\nexport default connect(mapStateToProps)(AuthForm);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./home.css\";\n\nclass Home extends React.Component {\n  render() {\n    return (\n      <div className=\"banner\">\n        <div className=\"enter-wrap\">\n          <div className=\"enter-btn\">\n            <Link to=\"/select\">Enter Game</Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import firebase from \"./firebase\";\nconst db = firebase.firestore();\n\nexport const fetchSongList = () => dispatch => {\n  let arr = [];\n  db.collection(\"songList\")\n    .orderBy(\"id\")\n    .get()\n    .then(querySnapshot =>\n      querySnapshot.forEach(doc => {\n        arr = [...arr, { id: doc.id, data: doc.data() }];\n        dispatch({ type: \"FETCH_SONG_LIST\", payload: arr });\n      })\n    );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { fetchSongList } from \"../../actions/selectSongActions\";\nimport \"./selectSong.css\";\n\nclass SelectSong extends React.Component {\n  componentDidMount() {\n    this.props.fetchSongList();\n  }\n\n  renderSongList() {\n    return this.props.songList.map(song => {\n      return (\n        <div key={song.id} className=\"song\">\n          <div className=\"song-details\">\n            <div className=\"song-title\">{song.data.title}</div>\n\n            <div className=\"song-auth\">{song.data.auth}</div>\n          </div>\n          <div className=\"difficulty-wrap\">\n            <Link to={`/game/${song.id}?easy`}>\n              <button className=\"difficulty easy\" name={song.data.name}>\n                EASY\n              </button>\n            </Link>\n            <Link to={`/game/${song.id}?normal`}>\n              <button className=\"difficulty normal\" name={song.data.name}>\n                NORMAL\n              </button>\n            </Link>\n            <Link to={`/game/${song.id}?hard`}>\n              <button className=\"difficulty hard\" name={song.data.name}>\n                HARD\n              </button>\n            </Link>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"song-list-wrap\">\n        <div className=\"song-list\">{this.renderSongList()}</div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    songList: state.songList,\n    playingSongData: state.playingSongData\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchSongList }\n)(SelectSong);\n","import React from \"react\";\n\nclass PureCanvas extends React.Component {\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  render() {\n    return (\n      <canvas\n        id=\"game-canvas\"\n        width={this.props.width}\n        height={this.props.height}\n      />\n    );\n  }\n}\n\nexport default PureCanvas;\n","import firebase from \"./firebase\";\nconst db = firebase.firestore();\n\nexport const setInGameState = boolean => {\n  return {\n    type: \"SET_IN_GAME_STATE\",\n    payload: boolean\n  };\n};\nexport const setGameOverState = boolean => {\n  return {\n    type: \"SET_GAME_OVER_STATE\",\n    payload: boolean\n  };\n};\n\nexport const fetchPlayingSongData = (songId, difficulty) => dispatch => {\n  let obj = {};\n  db.collection(\"songList\")\n    .doc(songId)\n    .collection(\"gameData\")\n    .get()\n    .then(function(querySnapshot) {\n      querySnapshot.forEach(doc => {\n        obj = Object.assign({\n          audio: new Audio(doc.data().url),\n          beatData: JSON.parse(doc.data()[difficulty])\n        });\n        dispatch({ type: \"FETCH_PLAYING_SONG_DATA\", payload: obj });\n      });\n    })\n    .catch(error => {\n      console.log(\"Error getting documents: \", error);\n    });\n};\n\nexport const storeRecordToDB = (doc, difficutly, data) => dispatch => {\n  db.collection(\"songList\")\n    .doc(doc)\n    .collection(difficutly)\n    .add(data)\n    .then(() => {\n      dispatch({ type: \"STORE_RECORD\" });\n    })\n    .catch(error => {\n      console.log(error.message);\n    });\n};\n","import firebase from \"./firebase\";\nconst db = firebase.firestore();\n\nexport const fetchRankingRecord = (docId, difficutly) => dispatch => {\n  let arr = [];\n  db.collection(\"songList\")\n    .doc(docId)\n    .collection(difficutly)\n    .orderBy(\"score\", \"desc\")\n    .limit(10)\n    .get()\n    .then(q => {\n      q.forEach(doc => {\n        arr.push({ id: doc.id, data: doc.data() });\n        dispatch({ type: \"FETCH_RANKING_RECORD\", payload: arr });\n      });\n    });\n};\n","export const updateLocalStorage = (key, value) => {\n  let tempObj = JSON.parse(localStorage.rankingData);\n  let target = key;\n  tempObj[target] = value;\n  localStorage.rankingData = JSON.stringify(tempObj);\n};\n\nexport const drawReadyState = unit => {\n  const canvas = document.querySelector(\"#game-canvas\");\n  const ctx = canvas.getContext(\"2d\");\n\n  let cw = 18 * unit;\n  let ch = 13 * unit;\n\n  //  lib function\n  ctx.line = function(p1, p2, color, shadowColor, height) {\n    ctx.beginPath();\n    ctx.moveTo(p1.x, p1.y);\n    ctx.lineTo(p2.x, p2.y);\n    ctx.strokeStyle = color;\n    ctx.shadowBlur = 60;\n    ctx.shadowColor = shadowColor;\n    ctx.lineWidth = height;\n    ctx.stroke();\n  };\n\n  for (let i = 0; i < 5; i++) {\n    ctx.line(\n      { x: (i + 7) * unit, y: 0 },\n      { x: ((18 * unit) / 4) * i, y: 13 * unit },\n      \"#000\",\n      null,\n      1\n    );\n  }\n  // Fill Background Color\n  ctx.beginPath();\n  ctx.moveTo(7 * unit, 0);\n  ctx.lineTo(11 * unit, 0);\n  ctx.lineTo(18 * unit, 13 * unit);\n  ctx.lineTo(0, 13 * unit);\n  ctx.closePath();\n  ctx.fillStyle = \"rgba(0,0,0,.8)\";\n  ctx.fill();\n\n  // Press Line\n  ctx.line(\n    { x: 0.5 * unit, y: 12 * unit },\n    { x: 17.5 * unit, y: 12 * unit },\n    \"rgba(142, 226, 163, 0.8)\",\n    null,\n    2\n  );\n\n  // press to start\n  ctx.save();\n  ctx.beginPath();\n  ctx.translate(cw / 2, ch / 2);\n  ctx.textAlign = \"center\";\n  ctx.font = `${unit}px Courier New`;\n  ctx.fillStyle = \"#fff\";\n  ctx.fillText(\"Click to Start\", 0, 0);\n  ctx.restore();\n};\nexport const drawComingSoon = unit => {\n  const canvas = document.querySelector(\"#game-canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  ctx.clearRect(0, 0, 18 * unit, 13 * unit);\n  ctx.rect(0, 0, 18 * unit, 13 * unit);\n  ctx.fillStyle = \"#1d1d1d\";\n  ctx.fill();\n  let cw = 18 * unit;\n  let ch = 13 * unit;\n  ctx.save();\n  ctx.beginPath();\n  ctx.translate(cw / 2, ch / 2);\n  ctx.textAlign = \"center\";\n  ctx.font = `${unit}px Courier New`;\n  ctx.fillStyle = \"#fff\";\n  ctx.fillText(\"Coming Soon...\", 0, 0);\n  ctx.restore();\n};\nexport const drawTrack = (x1, x2, x3, x4, unit, color) => {\n  const canvas = /** @type {HTMLCanvasElement} */ (document.querySelector(\n    \".player-canvas\"\n  ));\n  const ctx = canvas.getContext(\"2d\");\n  let cw = 18 * unit;\n  let ch = 13 * unit;\n\n  // Fill Background Color\n  ctx.beginPath();\n  ctx.moveTo(x1 * unit, 0);\n  ctx.lineTo(x2 * unit, 0);\n  ctx.lineTo((cw * x3) / 4, ch);\n  ctx.lineTo((cw * x4) / 4, ch);\n  ctx.closePath();\n  ctx.fillStyle = color;\n  ctx.fill();\n};\n\nexport const clearCanvas = unit => {\n  const canvas = document.querySelector(\".player-canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  ctx.clearRect(0, 0, 18 * unit, 13 * unit);\n};\n\nexport const drawEffect = (x, unit) => {\n  const canvas = document.querySelector(\".player-canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  const cw = 18 * unit;\n\n  ctx.save();\n  ctx.beginPath();\n  ctx.translate((cw * x) / 4 - cw / 8, 12 * unit - 12);\n  ctx.fillStyle = \"#fff\";\n  ctx.textAlign = \"center\";\n  ctx.font = `${unit}px Courier New`;\n  ctx.fillText(\"HIT\", 0, 0);\n  ctx.restore();\n};\n\nexport const drawFinishState = (unit, currentScore) => {\n  const canvas = document.querySelector(\"#game-canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  ctx.clearRect(0, 0, 18 * unit, 13 * unit);\n  let cw = 18 * unit;\n  let ch = 13 * unit;\n\n  let score = 0;\n  const drawScore = () => {\n    if (currentScore === 0) {\n      score = 0;\n    } else {\n      score += 98;\n    }\n    ctx.clearRect(0, 0, 18 * unit, 13 * unit);\n    ctx.rect(0, 0, 18 * unit, 13 * unit);\n    ctx.fillStyle = \"#1d1d1d\";\n    ctx.fill();\n\n    ctx.save();\n    ctx.beginPath();\n    ctx.translate(cw / 2, ch / 4);\n    ctx.textAlign = \"center\";\n    ctx.font = `${unit}px Courier New`;\n    ctx.fillStyle = \"#fff\";\n    ctx.fillText(`You got ${score} points!`, 0, 0);\n    ctx.restore();\n\n    ctx.save();\n    ctx.beginPath();\n    ctx.translate(cw / 2, ch / 2);\n    ctx.textAlign = \"center\";\n    ctx.font = `${unit}px Courier New`;\n    ctx.fillStyle = \"#fff\";\n    ctx.fillText(\"Click to Ranking Page\", 0, 0);\n    ctx.restore();\n  };\n\n  const drawScoreTimer = setInterval(() => {\n    drawScore();\n    if (score >= currentScore) {\n      clearInterval(drawScoreTimer);\n    }\n  }, 5);\n};\n\nexport const rankingRule = () => {\n  if (!localStorage.rankingData) {\n    return;\n  }\n  let rankingData = JSON.parse(localStorage.rankingData);\n  const total = rankingData.totalNotes;\n  const hit =\n    rankingData.hitNotesA +\n    rankingData.hitNotesB +\n    rankingData.hitNotesC +\n    rankingData.hitNotesD;\n  let accurate = Math.round((hit / total) * 100);\n  if (accurate >= 90) {\n    return \"A\";\n  } else if (accurate >= 80) {\n    return \"B\";\n  } else if (accurate >= 70) {\n    return \"C\";\n  } else if (accurate >= 60) {\n    return \"D\";\n  } else {\n    return \"E\";\n  }\n};\n","import {\n  updateLocalStorage,\n  drawTrack,\n  clearCanvas,\n  drawEffect\n} from \"./helpers\";\n\nexport const player = (noteA, noteB, noteC, noteD, unit, audio) => {\n  const btnD = document.querySelector(\".btn-d\");\n  const btnF = document.querySelector(\".btn-f\");\n  const btnK = document.querySelector(\".btn-k\");\n  const btnL = document.querySelector(\".btn-l\");\n  const currentSocre = document.querySelector(\".current-socre\");\n\n  const scoreCounter = () => {\n    if (!localStorage.rankingData) {\n      return;\n    }\n    let data = JSON.parse(localStorage.rankingData);\n    let score =\n      (data.hitNotesA + data.hitNotesB + data.hitNotesC + data.hitNotesD) * 98;\n    return score;\n  };\n  \n  const judge = (noteArray, trackIndex, key) => {\n    let hitNotes = 0;\n    return () => {\n      if (noteArray[0]) {\n        if (\n          noteArray[0].centerPos.y > 11 * unit &&\n          noteArray[0].centerPos.y < 13 * unit\n        ) {\n          noteArray[0].color = \"#000000\";\n          noteArray[0].shadowColor = \"#000000\";\n          noteArray[0].height = 30;\n          hitNotes++;\n          drawEffect(trackIndex, unit);\n          updateLocalStorage(key, hitNotes);\n          currentSocre.textContent = scoreCounter();\n        }\n      }\n    };\n  };\n\n  const judgeA = judge(noteA, 1, \"hitNotesA\");\n  const judgeB = judge(noteB, 2, \"hitNotesB\");\n  const judgeC = judge(noteC, 3, \"hitNotesC\");\n  const judgeD = judge(noteD, 4, \"hitNotesD\");\n\n  const play = e => {\n    switch (e.keyCode) {\n      // D = 68\n      case 68:\n        btnD.classList.add(\"btn-d-active\");\n        drawTrack(7, 8, 1, 0, unit, \"rgba(255,255,255,0.1)\");\n        judgeA();\n        break;\n      // F = 70\n      case 70:\n        btnF.classList.add(\"btn-f-active\");\n        drawTrack(8, 9, 2, 1, unit, \"rgba(255,255,255,0.1)\");\n        judgeB();\n        break;\n      // K = 75\n      case 75:\n        btnK.classList.add(\"btn-k-active\");\n        drawTrack(9, 10, 3, 2, unit, \"rgba(255,255,255,0.1)\");\n        judgeC();\n        break;\n      // L = 76\n      case 76:\n        btnL.classList.add(\"btn-l-active\");\n        drawTrack(10, 11, 4, 3, unit, \"rgba(255,255,255,0.1)\");\n        judgeD();\n        break;\n      default:\n        break;\n    }\n  };\n  const keyupUI = e => {\n    switch (e.keyCode) {\n      // D = 68\n      case 68:\n        btnD.classList.remove(\"btn-d-active\");\n        clearCanvas(unit);\n        break;\n      // F = 70\n      case 70:\n        btnF.classList.remove(\"btn-f-active\");\n        clearCanvas(unit);\n        break;\n      // K = 75\n      case 75:\n        btnK.classList.remove(\"btn-k-active\");\n        clearCanvas(unit);\n        break;\n      // L = 76\n      case 76:\n        btnL.classList.remove(\"btn-l-active\");\n        clearCanvas(unit);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  window.addEventListener(\"keydown\", play, false);\n  window.addEventListener(\"keyup\", keyupUI, false);\n\n  audio.addEventListener(\"ended\", () => {\n    window.removeEventListener(\"keydown\", play, false);\n    window.removeEventListener(\"keyup\", keyupUI, false);\n  });\n\n  // for mobile touchstart\n  btnD.addEventListener(\"touchstart\", () => {\n    drawTrack(7, 8, 1, 0, unit, \"rgba(255,255,255,0.1)\");\n    judgeA();\n  });\n  btnF.addEventListener(\"touchstart\", () => {\n    drawTrack(8, 9, 2, 1, unit, \"rgba(255,255,255,0.1)\");\n    judgeB();\n  });\n  btnK.addEventListener(\"touchstart\", () => {\n    drawTrack(9, 10, 3, 2, unit, \"rgba(255,255,255,0.1)\");\n    judgeC();\n  });\n  btnL.addEventListener(\"touchstart\", () => {\n    drawTrack(10, 11, 4, 3, unit, \"rgba(255,255,255,0.1)\");\n    judgeD();\n  });\n\n  // for mobile touchend\n  btnD.addEventListener(\"touchend\", () => {\n    clearCanvas(unit);\n  });\n  btnF.addEventListener(\"touchend\", () => {\n    clearCanvas(unit);\n  });\n  btnK.addEventListener(\"touchend\", () => {\n    clearCanvas(unit);\n  });\n  btnL.addEventListener(\"touchend\", () => {\n    clearCanvas(unit);\n  });\n};\n","import { player } from \"./player\";\nimport { updateLocalStorage } from \"./helpers\";\n\nexport const mainGame = (unit, beatData, audio, difficulty) => {\n  audio.play();\n  // 全域變數\n  let updateFPS = 100;\n  let time = 0;\n  let round = 0;\n  let speed = unit / 5;\n  let bpm = 100;\n\n  if (difficulty === \"easy\") {\n    bpm /= 2;\n    speed *= 0.8;\n  }\n  if (difficulty === \"hard\") {\n    bpm *= 2;\n  }\n\n  const canvas = document.querySelector(\"#game-canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  const cw = 18 * unit;\n  const ch = 13 * unit;\n  const degA = Math.atan2(ch, cw / 2 - 2 * unit);\n  const degB = Math.atan2((cw / 2) * Math.tan(degA), cw / 2 / 2);\n  const overHeight = unit * 2 * Math.tan(degA);\n\n  //  lib function\n  ctx.line = function(p1, p2, color, shadowColor, height) {\n    ctx.beginPath();\n    ctx.moveTo(p1.x, p1.y);\n    ctx.lineTo(p2.x, p2.y);\n    ctx.strokeStyle = color;\n    ctx.shadowBlur = 60;\n    ctx.shadowColor = shadowColor;\n    ctx.lineWidth = height;\n    ctx.stroke();\n  };\n\n  class Pos {\n    constructor(x, y) {\n      this.x = x || 0;\n      this.y = y || 0;\n    }\n  }\n\n  class Note {\n    constructor(args) {\n      let def = {\n        centerPos: new Pos(cw / 2, 0),\n        pos1: new Pos(-(unit * 2), 0),\n        pos2: new Pos(-unit, 0),\n        color: \"#75d0f5\",\n        shadowColor: \"#5ad0fa\",\n        height: unit / 5,\n        speed: speed\n      };\n      Object.assign(def, args);\n      Object.assign(this, def);\n    }\n    render() {\n      ctx.save();\n      ctx.beginPath();\n      ctx.translate(this.centerPos.x, this.centerPos.y);\n      ctx.line(this.pos1, this.pos2, this.color, this.shadowColor, this.height);\n      ctx.restore();\n    }\n    update() {\n      this.centerPos.y += this.speed;\n      if (this.pos1.x !== 0 && this.pos2.x !== 0) {\n        this.pos1.x =\n          ((this.centerPos.y + overHeight) / Math.tan(degA)) *\n          (this.pos1.x / Math.abs(this.pos1.x));\n        this.pos2.x =\n          ((this.centerPos.y + overHeight) / Math.tan(degB)) *\n          (this.pos2.x / Math.abs(this.pos2.x));\n      } else {\n        this.pos1.x =\n          ((this.centerPos.y + overHeight) / Math.tan(degB)) *\n          (this.pos1.x / Math.abs(this.pos1.x));\n        this.pos2.x = 0;\n      }\n    }\n  }\n\n  let noteA = [];\n  let noteB = [];\n  let noteC = [];\n  let noteD = [];\n  let totalNotes = 0;\n\n  const update = () => {\n    time++;\n\n    // offset = 115\n    if (time > 115) {\n      if (time % ((updateFPS * 60) / bpm) === 0) {\n        round++;\n        beatData[round].forEach((e, index) => {\n          if (beatData[round][0] === 1) {\n            noteA.push(new Note());\n            totalNotes++;\n          }\n          if (beatData[round][1] === 1) {\n            noteB.push(\n              new Note({\n                pos1: new Pos(-unit, 0),\n                pos2: new Pos(0, 0),\n                color: \"#ff0000\",\n                shadowColor: \"#ff5a5a\"\n              })\n            );\n            totalNotes++;\n          }\n          if (beatData[round][2] === 1) {\n            noteC.push(\n              new Note({\n                pos1: new Pos(unit, 0),\n                pos2: new Pos(0, 0),\n                color: \"#83ff2b\",\n                shadowColor: \"#6fd328\"\n              })\n            );\n            totalNotes++;\n          }\n          if (beatData[round][3] === 1) {\n            noteD.push(\n              new Note({\n                pos1: new Pos(unit, 0),\n                pos2: new Pos(unit * 2, 0),\n                color: \"#ffff00\",\n                shadowColor: \"#fcfc68\"\n              })\n            );\n            totalNotes++;\n          }\n        });\n      }\n    }\n    \n    noteA.forEach(e => e.update());\n    noteB.forEach(e => e.update());\n    noteC.forEach(e => e.update());\n    noteD.forEach(e => e.update());\n\n    noteA.forEach((e, index) => {\n      if (e.centerPos.y > ch) {\n        noteA.splice(index, 1);\n      }\n    });\n    noteB.forEach((e, index) => {\n      if (e.centerPos.y > ch) {\n        noteB.splice(index, 1);\n      }\n    });\n    noteC.forEach((e, index) => {\n      if (e.centerPos.y > ch) {\n        noteC.splice(index, 1);\n      }\n    });\n    noteD.forEach((e, index) => {\n      if (e.centerPos.y > ch) {\n        noteD.splice(index, 1);\n      }\n    });\n    updateLocalStorage(\"totalNotes\", totalNotes / 4);\n    render();\n  };\n\n  const render = () => {\n    ctx.clearRect(0, 0, 18 * unit, 13 * unit);\n    drawBackground();\n    noteA.forEach(e => e.render());\n    noteB.forEach(e => e.render());\n    noteC.forEach(e => e.render());\n    noteD.forEach(e => e.render());\n  };\n\n  const drawBackground = () => {\n    for (let i = 0; i < 5; i++) {\n      ctx.line(\n        { x: (i + 7) * unit, y: 0 },\n        { x: ((18 * unit) / 4) * i, y: 13 * unit },\n        \"#000\",\n        null,\n        1\n      );\n    }\n    // Fill Background Color\n    ctx.beginPath();\n    ctx.moveTo(7 * unit, 0);\n    ctx.lineTo(11 * unit, 0);\n    ctx.lineTo(18 * unit, 13 * unit);\n    ctx.lineTo(0, 13 * unit);\n    ctx.closePath();\n    ctx.fillStyle = \"rgba(0,0,0,.8)\";\n    ctx.fill();\n\n    // Press Line\n    ctx.line(\n      { x: 0.5 * unit, y: 12 * unit },\n      { x: 17.5 * unit, y: 12 * unit },\n      \"rgba(142, 226, 163, 0.8)\",\n      null,\n      2\n    );\n  };\n\n  const startGameTimer = setInterval(() => {\n    update();\n  }, 1000 / updateFPS);\n\n  player(noteA, noteB, noteC, noteD, unit, audio);\n\n  // set the closure let outside Component can clearInterval\n  return () => {\n    clearInterval(startGameTimer);\n    audio.pause();\n    audio.currentTime = 0;\n  };\n};\n","import React from \"react\";\n\nconst BestRecord = props => {\n  return (\n    <div className=\"battle-board\">\n      Best Record\n      {props.record.slice(0, 1).map(record => {\n        return (\n          <div className=\"score-in-board\" key={record.id}>\n            {record.data.score}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default BestRecord;\n","import React from \"react\";\n\nconst CurrentSocre = () => {\n  return (\n    <div className=\"battle-board\">\n      Socre\n      <div className=\"score-in-board current-socre\">0</div>\n    </div>\n  );\n};\n\nexport default CurrentSocre;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport PureCanvas from \"./PureCanvas\";\nimport \"./game.css\";\nimport {\n  setInGameState,\n  fetchPlayingSongData,\n  setGameOverState,\n  storeRecordToDB\n} from \"../../actions/gameActions\";\nimport { fetchRankingRecord } from \"../../actions/rankingActions\";\nimport { mainGame } from \"./mainGame\";\nimport {\n  drawReadyState,\n  drawComingSoon,\n  drawFinishState,\n  rankingRule\n} from \"./helpers\";\nimport BestRecord from \"./BestRecord\";\nimport CurrentSocre from \"./CurrentSocre\";\n\nclass Game extends React.Component {\n  state = { unit: 0 };\n  componentWillMount() {\n    this.setCanvasSize();\n  }\n  componentDidMount() {\n    const {\n      match,\n      location,\n      fetchPlayingSongData,\n      setInGameState,\n      fetchRankingRecord\n    } = this.props;\n    const difficulty = location.search.slice(1);\n    fetchPlayingSongData(match.params.id, difficulty);\n    fetchRankingRecord(match.params.id, difficulty);\n    drawReadyState(this.state.unit);\n    // limit player can only click once\n    const canvas = document.querySelector(\".player-canvas\");\n    const startGame = () => {\n      setInGameState(true);\n      canvas.removeEventListener(\"click\", startGame);\n      return false;\n    };\n    canvas.addEventListener(\"click\", startGame);\n  }\n\n  componentDidUpdate() {\n    const { game, match, location, setGameOverState, auth } = this.props;\n    const difficulty = location.search.slice(1);\n\n    if (!game.playingSongData) {\n      drawComingSoon(this.state.unit);\n    }\n\n    if (game.inGame && game.playingSongData && !game.gameOver) {\n      const rankingData = {\n        name: auth.name,\n        totalNotes: 0,\n        hitNotesA: 0,\n        hitNotesB: 0,\n        hitNotesC: 0,\n        hitNotesD: 0\n      };\n      localStorage.setItem(\"rankingData\", JSON.stringify(rankingData));\n      // start game \n      // this.stopGame using the closure in mainGame to clearInterval\n      this.stopGame = mainGame(\n        this.state.unit,\n        game.playingSongData.beatData,\n        game.playingSongData.audio,\n        difficulty\n      );\n      let audio = game.playingSongData.audio;\n      audio.addEventListener(\"ended\", () => {\n        const currentSocre = this.countCurrentScore();\n        this.stopGame();\n        setGameOverState(true);\n        drawFinishState(this.state.unit, currentSocre);\n        this.storeRecord(currentSocre);\n        const canvas = document.querySelector(\".player-canvas\");\n        canvas.addEventListener(\"click\", () => {\n          window.location.hash = `#/ranking/${match.params.id}${\n            location.search\n          }`;\n        });\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    const { setInGameState, setGameOverState, game } = this.props;\n    setInGameState(false);\n    setGameOverState(false);\n    // make sure this.stopGame won't be undefined\n    // 使用者未開始遊戲或沒有遊戲資訊的跳轉頁面\n    if (game.inGame && game.playingSongData) {\n      this.stopGame();\n    }\n  }\n\n  setCanvasSize = () => {\n    let unit;\n    if (window.innerWidth > 1024) {\n      unit = Math.round(window.innerWidth * 0.022);\n    } else if (window.innerWidth > 720) {\n      unit = Math.round(window.innerWidth * 0.033);\n    } else {\n      unit = Math.round(window.innerWidth * 0.04);\n    }\n    this.setState({ unit: unit });\n  };\n\n  countCurrentScore = () => {\n    const rankingData = JSON.parse(localStorage.rankingData);\n    const currentScore =\n      (rankingData.hitNotesA +\n        rankingData.hitNotesB +\n        rankingData.hitNotesC +\n        rankingData.hitNotesD) *\n      98;\n    return currentScore;\n  };\n\n  storeRecord = currentSocre => {\n    if (!localStorage.rankingData) {\n      return;\n    }\n    const { match, location, storeRecordToDB } = this.props;\n    const difficulty = location.search.slice(1);\n    const rankingData = JSON.parse(localStorage.rankingData);\n    const date = new Date();\n    const time = `${date.getFullYear()}/${date.getMonth() +\n      1}/${date.getDate()} ${date.getHours()}:${date.getMinutes()}`;\n    const data = {\n      name: rankingData.name,\n      rank: rankingRule(),\n      score: currentSocre,\n      time: time\n    };\n    if (!data.name) {\n      return;\n    }\n    storeRecordToDB(match.params.id, difficulty, data);\n  };\n\n  render() {\n    const unit = this.state.unit;\n    const style = {\n      margin: `${unit * 13 + 31}px 0 0 0`,\n      width: `${unit * 18 + 1}px`\n    };\n    return (\n      <div className=\"game-view\">\n        <div className=\"game-wrap\">\n          <div className=\"battle\">\n            <BestRecord record={this.props.ranking.record} />\n            <CurrentSocre />\n          </div>\n          <div className=\"canvas-wrap\">\n            <PureCanvas width={unit * 18} height={unit * 13} />\n            <canvas\n              className=\"player-canvas\"\n              width={unit * 18}\n              height={unit * 13}\n            />\n          </div>\n          <div className=\"game-buttons\" style={style}>\n            <div className=\"game-btn btn-d\">D</div>\n            <div className=\"game-btn btn-f\">F</div>\n            <div className=\"game-btn btn-k\">K</div>\n            <div className=\"game-btn btn-l\">L</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    game: state.game,\n    auth: state.auth,\n    ranking: state.ranking\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {\n    setInGameState,\n    fetchPlayingSongData,\n    setGameOverState,\n    storeRecordToDB,\n    fetchRankingRecord\n  }\n)(Game);\n","import React from \"react\";\nimport { rankingRule } from \"../Game/helpers\";\n\nconst CurrentRank = props => {\n  const total = props.currentRanking.totalNotes;\n  const hit =\n    props.currentRanking.hitNotesA +\n    props.currentRanking.hitNotesB +\n    props.currentRanking.hitNotesC +\n    props.currentRanking.hitNotesD;\n\n  return (\n    <>\n      <div className=\"current-ranking\">\n        <div className=\"current-ranking-row\">\n          <div>TotalNotes</div>\n          <div> {total}</div>\n        </div>\n        <div className=\"current-ranking-row\">\n          <div>HIT</div>\n          <div>{hit}</div>\n        </div>\n        <div className=\"current-ranking-row\">\n          <div>MISS</div>\n          <div> {total - hit}</div>\n        </div>\n        <div className=\"current-ranking-row\">\n          <div>SCORE</div>\n          <div> {hit * 98}</div>\n        </div>\n        <div className=\"current-ranking-row\">\n          <div>ACCURATE</div>\n          <div> {Math.round((hit / total) * 100)} %</div>\n        </div>\n        <div className=\"current-ranking-row\">\n          <div>RANK</div>\n          <div>{rankingRule()}</div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default CurrentRank;\n","import React from \"react\";\n\nclass Record extends React.Component {\n  render() {\n    return (\n      <>\n        {this.props.rankingRecord.map(record => {\n          return (\n            <div className=\"record-board\" key={record.id}>\n              <div className=\"record-item\"> {record.data.name}</div>\n              <div className=\"record-item\"> {record.data.score}</div>\n              <div className=\"record-item\"> {record.data.rank}</div>\n              <div className=\"record-item\"> {record.data.time}</div>\n            </div>\n          );\n        })}\n      </>\n    );\n  }\n}\nexport default Record;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { fetchRankingRecord } from \"../../actions/rankingActions\";\nimport CurrentRank from \"./CurrentRank\";\nimport Record from \"./Record\";\nimport \"./ranking.css\";\n\nclass Ranking extends React.Component {\n  componentDidMount() {\n    if (!localStorage.rankingData) {\n      window.location.hash = \"#/\";\n    }\n    const { match, location, fetchRankingRecord } = this.props;\n    const difficulty = location.search.slice(1);\n    if (difficulty !== \"\") {\n      fetchRankingRecord(match.params.id, difficulty);\n    }\n  }\n\n  componentWillUnmount() {\n    localStorage.removeItem(\"rankingData\");\n  }\n\n  render() {\n    return (\n      <div className=\"ranking-view\">\n        <div className=\"ranking-wrap\">\n          {localStorage.rankingData ? (\n            <CurrentRank\n              currentRanking={JSON.parse(localStorage.rankingData)}\n            />\n          ) : null}\n\n          <div className=\"record\">\n            <div className=\"record-board title\">\n              <div className=\"record-item\"> Name</div>\n              <div className=\"record-item\"> Score</div>\n              <div className=\"record-item\"> Rank</div>\n              <div className=\"record-item\"> Date</div>\n            </div>\n            <Record rankingRecord={this.props.ranking.record} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    rankingData: state.rankingData,\n    auth: state.auth,\n    ranking: state.ranking\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchRankingRecord }\n)(Ranking);\n","import React, { Component } from \"react\";\nimport { HashRouter, Route } from \"react-router-dom\";\n\nimport Nav from \"./Nav/Nav\";\nimport AuthForm from \"./AuthForm/AuthForm\";\nimport Home from \"./Home\";\nimport SelectSong from \"./SelectSong/SelectSong\";\nimport Game from \"./Game/Game\";\nimport Ranking from \"./Ranking/Ranking\";\n\nclass App extends Component {\n  render() {\n    return (\n      <HashRouter>\n        <Nav />\n        <AuthForm />\n        <div>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/select\" component={SelectSong} />\n          <Route path=\"/game/:id\" component={Game} />\n          <Route path=\"/ranking/:id\" component={Ranking} />\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\nexport default App;\n","const songListReducer = (state = [], action) => {\n  switch (action.type) {\n    case \"FETCH_SONG_LIST\":\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport default songListReducer;","const initState = {\n  loginForm: false,\n  signUpForm: false,\n  mobileButtons: false\n};\n\nconst showingReducer = (state = initState, action) => {\n  switch (action.type) {\n    case \"SHOW_LOGIN_FORM\":\n      return { ...state, loginForm: action.payload };\n    case \"SHOW_SIGNUP_FORM\":\n      return { ...state, signUpForm: action.payload };\n    case \"SHOW_MOBILE_BUTTONS\":\n      return { ...state, mobileButtons: action.payload };\n    case \"LOGIN_SUCCESS\":\n      return { ...state, loginForm: false };\n    case \"SIGH_UP_SUCCESS\":\n      return { ...state, signUpForm: false };\n    default:\n      return state;\n  }\n};\n\nexport default showingReducer;\n","const initState = {\n  authError: null,\n  uid: null,\n  name: null\n};\n\nconst authReducer = (state = initState, action) => {\n  switch (action.type) {\n    case \"LOGIN_ERROR\":\n      return { ...state, authError: \"Login Failed\" };\n    case \"GET_USER_UID\":\n      return { ...state, uid: action.payload };\n    case \"LOGIN_SUCCESS\":\n      return state;\n    case \"SIGH_UP_SUCCESS\":\n      return { ...state, authError: null };\n    case \"SIGH_UP_ERROR\":\n      return { ...state, authError: action.payload };\n    case \"GET_USER_NAME\":\n      return { ...state, name: action.payload };\n    case \"SHOW_LOGIN_FORM\":\n      return { ...state, authError: null };\n    case \"SHOW_SIGNUP_FORM\":\n      return { ...state, authError: null };\n\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n","const initState = {\n  record: []\n};\n\nconst rankingReducer = (state = initState, action) => {\n  switch (action.type) {\n    case \"FETCH_RANKING_RECORD\":\n      return { ...state, record: action.payload };\n    default:\n      return state;\n  }\n};\n\nexport default rankingReducer;\n","const initState = {\n  inGame: false,\n  playingSongData: null,\n  gameOver: false\n};\n\nconst gameReducer = (state = initState, action) => {\n  switch (action.type) {\n    case \"SET_IN_GAME_STATE\":\n      return { ...state, inGame: action.payload };\n    case \"FETCH_PLAYING_SONG_DATA\":    \n      return { ...state, playingSongData: action.payload };\n    case \"SET_GAME_OVER_STATE\":\n      return { ...state, gameOver: action.payload };\n\n    default:\n      return state;\n  }\n};\n\nexport default gameReducer;\n","import { combineReducers } from \"redux\";\n\nimport songListReducer from \"./songListReducer\";\nimport showingReducer from \"./showingReducer\";\nimport authReducer from \"./authReducer\";\nimport rankingReducer from \"./rankingReducer\";\nimport gameReducer from \"./gameReducer\";\n\n\nexport default combineReducers({\n  auth: authReducer,\n  showing: showingReducer,\n  songList: songListReducer,\n  game: gameReducer,\n  ranking: rankingReducer\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport \"./index.css\";\nimport App from \"./component/App\";\nimport reducers from \"./redeucers\";\n\nconst store = createStore(reducers, applyMiddleware(thunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjBQEOGipNUDWeAAAAzElEQVRo3u3YPQ5BURCG4fegQbTYALUrsQIhEdthA9bjLwoKomcBJCo01FfQkKuwiO8W33MWMDNnppgMmJmJBSBHnbwg9psTH2hyJRG9C1FgT0vYgV0gpiRMIM6wFYaHLVSYEEsmIGZMWVq+mZlZKgSgT5uiIPaTDUsYyjbChIRB4EZV2IF7hkQYHr5ZAl1hAqMA9OiIhnDNSli8mZlZalSZ8ZCsYw+mVGAh3QnnKTjTHaUDcICIi6wBZxr/Y3WNgqD6Fye+0v83MwP4AccbjaeK1AN/AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTA1LTAxVDEyOjI2OjQyKzAyOjAwVQ1LxwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wNS0wMVQxMjoyNjo0MiswMjowMCRQ83sAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\""],"sourceRoot":""}